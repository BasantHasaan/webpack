{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"/home/basant/games/node_modules/style-loader/lib/addStyles.js\",\"/home/basant/games/node_modules/style-loader/lib/urls.js\",\"/home/basant/games/node_modules/style-loader/index.js!/home/basant/games/node_modules/mini-css-extract-plugin/dist/loader.js!/home/basant/games/node_modules/css-loader/index.js!/home/basant/games/node_modules/media-query-plugin/src/loader.js!/home/basant/games/node_modules/sass-loader/lib/loader.js!/home/basant/games/src/2048-master/style/main.scss\",\"/home/basant/games/src/2048-master/js/bind_polyfill.js\",\"/home/basant/games/src/2048-master/js/classlist_polyfill.js\",\"/home/basant/games/src/2048-master/js/animframe_polyfill.js\",\"/home/basant/games/src/2048-master/js/tile.js\",\"/home/basant/games/src/2048-master/js/grid.js\",\"/home/basant/games/src/2048-master/js/local_storage_manager.js\",\"/home/basant/games/src/2048-master/js/game_manager.js\",\"/home/basant/games/src/2048-master/js/keyboard_input_manager.js\",\"/home/basant/games/src/2048-master/js/html_actuator.js\",\"/home/basant/games/src/2048-master/js/application.js\",\"/home/basant/games/node_modules/style-loader/index.js!/home/basant/games/node_modules/mini-css-extract-plugin/dist/loader.js!/home/basant/games/node_modules/css-loader/index.js!/home/basant/games/node_modules/media-query-plugin/src/loader.js!/home/basant/games/node_modules/sass-loader/lib/loader.js!/home/basant/games/src/2048-master/style/main1.scss\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"fn\",\"memo\",\"stylesInDom\",\"isOldIE\",\"window\",\"document\",\"all\",\"atob\",\"apply\",\"this\",\"arguments\",\"getElement\",\"target\",\"parent\",\"styleTarget\",\"querySelector\",\"HTMLIFrameElement\",\"contentDocument\",\"head\",\"e\",\"singleton\",\"singletonCounter\",\"stylesInsertedAtTop\",\"fixUrls\",\"addStylesToDom\",\"styles\",\"options\",\"length\",\"item\",\"domStyle\",\"id\",\"refs\",\"j\",\"parts\",\"push\",\"addStyle\",\"listToStyles\",\"list\",\"newStyles\",\"base\",\"part\",\"css\",\"media\",\"sourceMap\",\"insertStyleElement\",\"style\",\"insertInto\",\"Error\",\"lastStyleElementInsertedAtTop\",\"insertAt\",\"nextSibling\",\"insertBefore\",\"appendChild\",\"firstChild\",\"before\",\"removeStyleElement\",\"parentNode\",\"removeChild\",\"idx\",\"indexOf\",\"splice\",\"createStyleElement\",\"createElement\",\"undefined\",\"attrs\",\"type\",\"nonce\",\"nc\",\"getNonce\",\"addAttrs\",\"el\",\"keys\",\"forEach\",\"setAttribute\",\"obj\",\"update\",\"remove\",\"result\",\"link\",\"transform\",\"default\",\"styleIndex\",\"applyToSingletonTag\",\"URL\",\"createObjectURL\",\"revokeObjectURL\",\"Blob\",\"btoa\",\"rel\",\"autoFixUrls\",\"convertToAbsoluteUrls\",\"unescape\",\"encodeURIComponent\",\"JSON\",\"stringify\",\"blob\",\"oldSrc\",\"href\",\"styleSheet\",\"cssText\",\"createTextNode\",\"newObj\",\"DEBUG\",\"newList\",\"mayRemove\",\"textStore\",\"replaceText\",\"index\",\"replacement\",\"filter\",\"Boolean\",\"join\",\"cssNode\",\"childNodes\",\"location\",\"baseUrl\",\"protocol\",\"host\",\"currentDir\",\"pathname\",\"replace\",\"fullMatch\",\"origUrl\",\"newUrl\",\"unquotedOrigUrl\",\"trim\",\"$1\",\"test\",\"content\",\"hmr\",\"locals\",\"Function\",\"self\",\"args\",\"Array\",\"Element\",\"documentElement\",\"prop\",\"DOMTokenList\",\"add\",\"token\",\"contains\",\"className\",\"toString\",\"toggle\",\"HTMLElement\",\"__defineGetter__\",\"classes\",\"split\",\"lastTime\",\"vendors\",\"x\",\"requestAnimationFrame\",\"cancelAnimationFrame\",\"callback\",\"currTime\",\"Date\",\"getTime\",\"timeToCall\",\"Math\",\"max\",\"setTimeout\",\"clearTimeout\",\"Tile\",\"position\",\"y\",\"previousPosition\",\"mergedFrom\",\"savePosition\",\"updatePosition\",\"serialize\",\"Grid\",\"size\",\"previousState\",\"cells\",\"fromState\",\"empty\",\"row\",\"state\",\"tile\",\"randomAvailableCell\",\"availableCells\",\"floor\",\"random\",\"eachCell\",\"cellsAvailable\",\"cellAvailable\",\"cell\",\"cellOccupied\",\"cellContent\",\"withinBounds\",\"insertTile\",\"removeTile\",\"cellState\",\"LocalStorageManager\",\"bestScoreKey\",\"gameStateKey\",\"supported\",\"localStorageSupported\",\"storage\",\"localStorage\",\"fakeStorage\",\"_data\",\"setItem\",\"val\",\"String\",\"getItem\",\"removeItem\",\"clear\",\"error\",\"getBestScore\",\"setBestScore\",\"score\",\"getGameState\",\"stateJSON\",\"parse\",\"setGameState\",\"gameState\",\"clearGameState\",\"GameManager\",\"InputManager\",\"Actuator\",\"StorageManager\",\"inputManager\",\"storageManager\",\"actuator\",\"startTiles\",\"on\",\"move\",\"restart\",\"keepPlaying\",\"setup\",\"continueGame\",\"isGameTerminated\",\"over\",\"won\",\"grid\",\"addStartTiles\",\"actuate\",\"addRandomTile\",\"bestScore\",\"terminated\",\"prepareTiles\",\"moveTile\",\"direction\",\"vector\",\"getVector\",\"traversals\",\"buildTraversals\",\"moved\",\"positions\",\"findFarthestPosition\",\"next\",\"merged\",\"farthest\",\"positionsEqual\",\"movesAvailable\",\"0\",\"1\",\"2\",\"3\",\"pos\",\"reverse\",\"previous\",\"tileMatchesAvailable\",\"other\",\"first\",\"second\",\"KeyboardInputManager\",\"events\",\"navigator\",\"msPointerEnabled\",\"eventTouchstart\",\"eventTouchmove\",\"eventTouchend\",\"listen\",\"event\",\"emit\",\"data\",\"callbacks\",\"touchStartClientX\",\"touchStartClientY\",\"map\",\"38\",\"39\",\"40\",\"37\",\"75\",\"76\",\"74\",\"72\",\"87\",\"68\",\"83\",\"65\",\"addEventListener\",\"modifiers\",\"altKey\",\"ctrlKey\",\"metaKey\",\"shiftKey\",\"mapped\",\"which\",\"preventDefault\",\"bindButtonPress\",\"gameContainer\",\"getElementsByClassName\",\"touches\",\"targetTouches\",\"pageX\",\"pageY\",\"clientX\",\"clientY\",\"touchEndClientX\",\"touchEndClientY\",\"changedTouches\",\"dx\",\"absDx\",\"abs\",\"dy\",\"absDy\",\"selector\",\"button\",\"HTMLActuator\",\"tileContainer\",\"scoreContainer\",\"bestContainer\",\"messageContainer\",\"metadata\",\"clearContainer\",\"column\",\"addTile\",\"updateScore\",\"updateBestScore\",\"message\",\"clearMessage\",\"container\",\"wrapper\",\"inner\",\"positionClass\",\"applyClasses\",\"classList\",\"textContent\",\"element\",\"normalizePosition\",\"difference\",\"addition\",\"getElementsByTagName\"],\"mappings\":\"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\"}","code":"!function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=40)}({1:function(t,e,i){var n,o,r,l={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),s=(r={},function(t,e){if(\"function\"==typeof t)return t();if(void 0===r[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}r[t]=n}return r[t]}),u=null,h=0,a=[],p=i(2);function f(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=l[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(w(i.parts[r],e))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(w(i.parts[r],e));l[i.id]={id:i.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function v(t,e){var n=s(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var i=a[a.length-1];if(\"top\"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),a.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var o=s(t.insertAt.before,n);n.insertBefore(e,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=a.indexOf(t);0<=e&&a.splice(e,1)}function y(t){var e=document.createElement(\"style\");if(void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return g(e,t.attrs),v(t,e),e}function g(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function w(e,t){var n,i,o,r,s,a;if(t.transform&&e.css){if(!(r=\"function\"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var l=h++;n=u||(u=y(t)),i=S.bind(null,n,l,!1),o=S.bind(null,n,l,!0)}else o=e.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(s=t,a=document.createElement(\"link\"),void 0===s.attrs.type&&(s.attrs.type=\"text/css\"),s.attrs.rel=\"stylesheet\",g(a,s.attrs),v(s,a),i=function(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=p(i));o&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");var s=new Blob([i],{type:\"text/css\"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n=a,t),function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute(\"media\",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),function(){m(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}t.exports=function(t,s){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(s=s||{}).attrs=\"object\"==typeof s.attrs?s.attrs:{},s.singleton||\"boolean\"==typeof s.singleton||(s.singleton=c()),s.insertInto||(s.insertInto=\"head\"),s.insertAt||(s.insertAt=\"bottom\");var a=d(t,s);return f(a,s),function(t){for(var e=[],n=0;n<a.length;n++){var i=a[n];(o=l[i.id]).refs--,e.push(o)}t&&f(d(t,s),s);for(n=0;n<e.length;n++){var o;if(0===(o=e[n]).refs){for(var r=0;r<o.parts.length;r++)o.parts[r]();delete l[o.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join(\"\\n\")});function S(t,e,n,i){var o=n?\"\":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},2:function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var o=e.protocol+\"//\"+e.host,r=o+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var n,i=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(n=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?o+i:r+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(n)+\")\")})}},4:function(t,e,n){var i=n(5);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},40:function(t,e,n){\"use strict\";n.r(e);n(4),n(6),Function.prototype.bind=Function.prototype.bind||function(e){var n=this;return function(t){t instanceof Array||(t=[t]),n.apply(e,t)}},function(){if(!(void 0===window.Element||\"classList\"in document.documentElement)){var t,e,n,i=Array.prototype,o=i.push,r=i.splice,s=i.join;a.prototype={add:function(t){this.contains(t)||(o.call(this,t),this.el.className=this.toString())},contains:function(t){return-1!=this.el.className.indexOf(t)},item:function(t){return this[t]||null},remove:function(t){if(this.contains(t)){for(var e=0;e<this.length&&this[e]!=t;e++);r.call(this,e,1),this.el.className=this.toString()}},toString:function(){return s.call(this,\" \")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},window.DOMTokenList=a,t=HTMLElement.prototype,e=\"classList\",n=function(){return new a(this)},Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}function a(t){for(var e=(this.el=t).className.replace(/^\\s+|\\s+$/g,\"\").split(/\\s+/),n=0;n<e.length;n++)o.call(this,e[n])}}(),function(){for(var o=0,t=[\"webkit\",\"moz\"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[t[e]+\"CancelAnimationFrame\"]||window[t[e]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-o)),i=window.setTimeout(function(){t(e+n)},n);return o=e+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();function i(t,e){this.x=t.x,this.y=t.y,this.value=e||2,this.previousPosition=null,this.mergedFrom=null}i.prototype.savePosition=function(){this.previousPosition={x:this.x,y:this.y}},i.prototype.updatePosition=function(t){this.x=t.x,this.y=t.y},i.prototype.serialize=function(){return{position:{x:this.x,y:this.y},value:this.value}};var u=i;function o(t,e){this.size=t,this.cells=e?this.fromState(e):this.empty()}o.prototype.empty=function(){for(var t=[],e=0;e<this.size;e++)for(var n=t[e]=[],i=0;i<this.size;i++)n.push(null);return t},o.prototype.fromState=function(t){for(var e=[],n=0;n<this.size;n++)for(var i=e[n]=[],o=0;o<this.size;o++){var r=t[n][o];i.push(r?new u(r.position,r.value):null)}return e},o.prototype.randomAvailableCell=function(){var t=this.availableCells();if(t.length)return t[Math.floor(Math.random()*t.length)]},o.prototype.availableCells=function(){var i=[];return this.eachCell(function(t,e,n){n||i.push({x:t,y:e})}),i},o.prototype.eachCell=function(t){for(var e=0;e<this.size;e++)for(var n=0;n<this.size;n++)t(e,n,this.cells[e][n])},o.prototype.cellsAvailable=function(){return!!this.availableCells().length},o.prototype.cellAvailable=function(t){return!this.cellOccupied(t)},o.prototype.cellOccupied=function(t){return!!this.cellContent(t)},o.prototype.cellContent=function(t){return this.withinBounds(t)?this.cells[t.x][t.y]:null},o.prototype.insertTile=function(t){this.cells[t.x][t.y]=t},o.prototype.removeTile=function(t){this.cells[t.x][t.y]=null},o.prototype.withinBounds=function(t){return 0<=t.x&&t.x<this.size&&0<=t.y&&t.y<this.size},o.prototype.serialize=function(){for(var t=[],e=0;e<this.size;e++)for(var n=t[e]=[],i=0;i<this.size;i++)n.push(this.cells[e][i]?this.cells[e][i].serialize():null);return{size:this.size,cells:t}};var r=o;function s(){this.bestScoreKey=\"bestScore\",this.gameStateKey=\"gameState\";var t=this.localStorageSupported();this.storage=t?window.localStorage:window.fakeStorage}window.fakeStorage={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:void 0},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}},s.prototype.localStorageSupported=function(){try{var t=window.localStorage;return t.setItem(\"test\",\"1\"),t.removeItem(\"test\"),!0}catch(t){return!1}},s.prototype.getBestScore=function(){return this.storage.getItem(this.bestScoreKey)||0},s.prototype.setBestScore=function(t){this.storage.setItem(this.bestScoreKey,t)},s.prototype.getGameState=function(){var t=this.storage.getItem(this.gameStateKey);return t?JSON.parse(t):null},s.prototype.setGameState=function(t){this.storage.setItem(this.gameStateKey,JSON.stringify(t))},s.prototype.clearGameState=function(){this.storage.removeItem(this.gameStateKey)};var a=s;function l(t,e,n,i){this.size=t,this.inputManager=new e,this.storageManager=new i,this.actuator=new n,this.startTiles=2,this.inputManager.on(\"move\",this.move.bind(this)),this.inputManager.on(\"restart\",this.restart.bind(this)),this.inputManager.on(\"keepPlaying\",this.keepPlaying.bind(this)),this.setup()}l.prototype.restart=function(){this.storageManager.clearGameState(),this.actuator.continueGame(),this.setup()},l.prototype.keepPlaying=function(){this.keepPlaying=!0,this.actuator.continueGame()},l.prototype.isGameTerminated=function(){return this.over||this.won&&!this.keepPlaying},l.prototype.setup=function(){var t=this.storageManager.getGameState();t?(this.grid=new r(t.grid.size,t.grid.cells),this.score=t.score,this.over=t.over,this.won=t.won,this.keepPlaying=t.keepPlaying):(this.grid=new r(this.size),this.score=0,this.over=!1,this.won=!1,this.keepPlaying=!1,this.addStartTiles()),this.actuate()},l.prototype.addStartTiles=function(){for(var t=0;t<this.startTiles;t++)this.addRandomTile()},l.prototype.addRandomTile=function(){if(this.grid.cellsAvailable()){var t=Math.random()<.9?2:4,e=new u(this.grid.randomAvailableCell(),t);this.grid.insertTile(e)}},l.prototype.actuate=function(){this.storageManager.getBestScore()<this.score&&this.storageManager.setBestScore(this.score),this.over?this.storageManager.clearGameState():this.storageManager.setGameState(this.serialize()),this.actuator.actuate(this.grid,{score:this.score,over:this.over,won:this.won,bestScore:this.storageManager.getBestScore(),terminated:this.isGameTerminated()})},l.prototype.serialize=function(){return{grid:this.grid.serialize(),score:this.score,over:this.over,won:this.won,keepPlaying:this.keepPlaying}},l.prototype.prepareTiles=function(){this.grid.eachCell(function(t,e,n){n&&(n.mergedFrom=null,n.savePosition())})},l.prototype.moveTile=function(t,e){this.grid.cells[t.x][t.y]=null,(this.grid.cells[e.x][e.y]=t).updatePosition(e)},l.prototype.move=function(t){var r=this;if(!this.isGameTerminated()){var s,a,l=this.getVector(t),e=this.buildTraversals(l),c=!1;this.prepareTiles(),e.x.forEach(function(o){e.y.forEach(function(t){if(s={x:o,y:t},a=r.grid.cellContent(s)){var e=r.findFarthestPosition(s,l),n=r.grid.cellContent(e.next);if(n&&n.value===a.value&&!n.mergedFrom){var i=new u(e.next,2*a.value);i.mergedFrom=[a,n],r.grid.insertTile(i),r.grid.removeTile(a),a.updatePosition(e.next),r.score+=i.value,2048===i.value&&(r.won=!0)}else r.moveTile(a,e.farthest);r.positionsEqual(s,a)||(c=!0)}})}),c&&(this.addRandomTile(),this.movesAvailable()||(this.over=!0),this.actuate())}},l.prototype.getVector=function(t){return{0:{x:0,y:-1},1:{x:1,y:0},2:{x:0,y:1},3:{x:-1,y:0}}[t]},l.prototype.buildTraversals=function(t){for(var e={x:[],y:[]},n=0;n<this.size;n++)e.x.push(n),e.y.push(n);return 1===t.x&&(e.x=e.x.reverse()),1===t.y&&(e.y=e.y.reverse()),e},l.prototype.findFarthestPosition=function(t,e){for(var n;t={x:(n=t).x+e.x,y:n.y+e.y},this.grid.withinBounds(t)&&this.grid.cellAvailable(t););return{farthest:n,next:t}},l.prototype.movesAvailable=function(){return this.grid.cellsAvailable()||this.tileMatchesAvailable()},l.prototype.tileMatchesAvailable=function(){for(var t,e=0;e<this.size;e++)for(var n=0;n<this.size;n++)if(t=this.grid.cellContent({x:e,y:n}))for(var i=0;i<4;i++){var o=this.getVector(i),r={x:e+o.x,y:n+o.y},s=this.grid.cellContent(r);if(s&&s.value===t.value)return!0}return!1},l.prototype.positionsEqual=function(t,e){return t.x===e.x&&t.y===e.y};var c=l;function h(){this.events={},window.navigator.msPointerEnabled?(this.eventTouchstart=\"MSPointerDown\",this.eventTouchmove=\"MSPointerMove\",this.eventTouchend=\"MSPointerUp\"):(this.eventTouchstart=\"touchstart\",this.eventTouchmove=\"touchmove\",this.eventTouchend=\"touchend\"),this.listen()}h.prototype.on=function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},h.prototype.emit=function(t,e){var n=this.events[t];n&&n.forEach(function(t){t(e)})},h.prototype.listen=function(){var a,l,c=this,i={38:0,39:1,40:2,37:3,75:0,76:1,74:2,72:3,87:0,68:1,83:2,65:3};document.addEventListener(\"keydown\",function(t){var e=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey,n=i[t.which];e||void 0!==n&&(t.preventDefault(),c.emit(\"move\",n)),e||82!==t.which||c.restart.call(c,t)}),this.bindButtonPress(\".retry-button\",this.restart),this.bindButtonPress(\".restart-button\",this.restart),this.bindButtonPress(\".keep-playing-button\",this.keepPlaying);var t=document.getElementsByClassName(\"game-container\")[0];t.addEventListener(this.eventTouchstart,function(t){!window.navigator.msPointerEnabled&&1<t.touches.length||1<t.targetTouches.length||(l=window.navigator.msPointerEnabled?(a=t.pageX,t.pageY):(a=t.touches[0].clientX,t.touches[0].clientY),t.preventDefault())}),t.addEventListener(this.eventTouchmove,function(t){t.preventDefault()}),t.addEventListener(this.eventTouchend,function(t){if(!(!window.navigator.msPointerEnabled&&0<t.touches.length||0<t.targetTouches.length)){var e,n;n=window.navigator.msPointerEnabled?(e=t.pageX,t.pageY):(e=t.changedTouches[0].clientX,t.changedTouches[0].clientY);var i=e-a,o=Math.abs(i),r=n-l,s=Math.abs(r);10<Math.max(o,s)&&c.emit(\"move\",s<o?0<i?1:3:0<r?2:0)}})},h.prototype.restart=function(t){t.preventDefault(),this.emit(\"restart\")},h.prototype.keepPlaying=function(t){t.preventDefault(),this.emit(\"keepPlaying\")},h.prototype.bindButtonPress=function(t,e){var n=document.querySelector(t);n.addEventListener(\"click\",e.bind(this)),n.addEventListener(this.eventTouchend,e.bind(this))};var p=h;function f(){this.tileContainer=document.querySelector(\".tile-container\"),this.scoreContainer=document.querySelector(\".score-container\"),this.bestContainer=document.querySelector(\".best-container\"),this.messageContainer=document.querySelector(\".game-message\"),this.score=0}f.prototype.actuate=function(t,e){var n=this;window.requestAnimationFrame(function(){n.clearContainer(n.tileContainer),t.cells.forEach(function(t){t.forEach(function(t){t&&n.addTile(t)})}),n.updateScore(e.score),n.updateBestScore(e.bestScore),e.terminated&&(e.over?n.message(!1):e.won&&n.message(!0))})},f.prototype.continueGame=function(){this.clearMessage()},f.prototype.clearContainer=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},f.prototype.addTile=function(t){var e=this,n=document.createElement(\"div\"),i=document.createElement(\"div\"),o=t.previousPosition||{x:t.x,y:t.y},r=this.positionClass(o),s=[\"tile\",\"tile-\"+t.value,r];2048<t.value&&s.push(\"tile-super\"),this.applyClasses(n,s),i.classList.add(\"tile-inner\"),i.textContent=t.value,t.previousPosition?window.requestAnimationFrame(function(){s[2]=e.positionClass({x:t.x,y:t.y}),e.applyClasses(n,s)}):t.mergedFrom?(s.push(\"tile-merged\"),this.applyClasses(n,s),t.mergedFrom.forEach(function(t){e.addTile(t)})):(s.push(\"tile-new\"),this.applyClasses(n,s)),n.appendChild(i),this.tileContainer.appendChild(n)},f.prototype.applyClasses=function(t,e){t.setAttribute(\"class\",e.join(\" \"))},f.prototype.normalizePosition=function(t){return{x:t.x+1,y:t.y+1}},f.prototype.positionClass=function(t){return\"tile-position-\"+(t=this.normalizePosition(t)).x+\"-\"+t.y},f.prototype.updateScore=function(t){this.clearContainer(this.scoreContainer);var e=t-this.score;if(this.score=t,this.scoreContainer.textContent=this.score,0<e){var n=document.createElement(\"div\");n.classList.add(\"score-addition\"),n.textContent=\"+\"+e,this.scoreContainer.appendChild(n)}},f.prototype.updateBestScore=function(t){this.bestContainer.textContent=t},f.prototype.message=function(t){var e=t?\"game-won\":\"game-over\",n=t?\"You win!\":\"Game over!\";this.messageContainer.classList.add(e),this.messageContainer.getElementsByTagName(\"p\")[0].textContent=n},f.prototype.clearMessage=function(){this.messageContainer.classList.remove(\"game-won\"),this.messageContainer.classList.remove(\"game-over\")};var d=f;window.requestAnimationFrame(function(){new c(4,p,d,a)})},5:function(t,e,n){},6:function(t,e,n){var i=n(7);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,o);i.locals&&(t.exports=i.locals)},7:function(t,e,n){}});","extractedComments":[]}