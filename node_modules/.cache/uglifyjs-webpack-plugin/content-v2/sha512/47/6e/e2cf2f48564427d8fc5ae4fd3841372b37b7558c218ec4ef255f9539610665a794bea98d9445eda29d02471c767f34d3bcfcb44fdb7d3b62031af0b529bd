{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"/home/basant/games/node_modules/style-loader/index.js!/home/basant/games/node_modules/mini-css-extract-plugin/dist/loader.js!/home/basant/games/node_modules/css-loader/index.js!/home/basant/games/node_modules/media-query-plugin/src/loader.js!/home/basant/games/node_modules/sass-loader/lib/loader.js!/home/basant/games/src/2048-master/style/main.scss\",\"/home/basant/games/node_modules/style-loader/index.js!/home/basant/games/node_modules/mini-css-extract-plugin/dist/loader.js!/home/basant/games/node_modules/css-loader/index.js!/home/basant/games/node_modules/media-query-plugin/src/loader.js!/home/basant/games/node_modules/sass-loader/lib/loader.js!/home/basant/games/src/2048-master/style/main1.scss\",\"/home/basant/games/node_modules/style-loader/lib/addStyles.js\",\"/home/basant/games/node_modules/style-loader/lib/urls.js\",\"/home/basant/games/src/2048-master/js/bind_polyfill.js\",\"/home/basant/games/src/2048-master/js/classlist_polyfill.js\",\"/home/basant/games/src/2048-master/js/animframe_polyfill.js\",\"/home/basant/games/src/2048-master/js/tile.js\",\"/home/basant/games/src/2048-master/js/grid.js\",\"/home/basant/games/src/2048-master/js/local_storage_manager.js\",\"/home/basant/games/src/2048-master/js/game_manager.js\",\"/home/basant/games/src/2048-master/js/keyboard_input_manager.js\",\"/home/basant/games/src/2048-master/js/html_actuator.js\",\"/home/basant/games/src/2048-master/js/application.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"content\",\"options\",\"hmr\",\"transform\",\"insertInto\",\"undefined\",\"locals\",\"fn\",\"memo\",\"stylesInDom\",\"isOldIE\",\"window\",\"document\",\"all\",\"atob\",\"apply\",\"this\",\"arguments\",\"getElement\",\"target\",\"parent\",\"styleTarget\",\"querySelector\",\"HTMLIFrameElement\",\"contentDocument\",\"head\",\"e\",\"singleton\",\"singletonCounter\",\"stylesInsertedAtTop\",\"fixUrls\",\"addStylesToDom\",\"styles\",\"length\",\"item\",\"domStyle\",\"id\",\"refs\",\"j\",\"parts\",\"push\",\"addStyle\",\"listToStyles\",\"list\",\"newStyles\",\"base\",\"part\",\"css\",\"media\",\"sourceMap\",\"insertStyleElement\",\"style\",\"Error\",\"lastStyleElementInsertedAtTop\",\"insertAt\",\"nextSibling\",\"insertBefore\",\"appendChild\",\"firstChild\",\"before\",\"removeStyleElement\",\"parentNode\",\"removeChild\",\"idx\",\"indexOf\",\"splice\",\"createStyleElement\",\"createElement\",\"attrs\",\"type\",\"nonce\",\"nc\",\"getNonce\",\"addAttrs\",\"el\",\"keys\",\"forEach\",\"setAttribute\",\"obj\",\"update\",\"remove\",\"result\",\"link\",\"default\",\"styleIndex\",\"applyToSingletonTag\",\"URL\",\"createObjectURL\",\"revokeObjectURL\",\"Blob\",\"btoa\",\"rel\",\"autoFixUrls\",\"convertToAbsoluteUrls\",\"unescape\",\"encodeURIComponent\",\"JSON\",\"stringify\",\"blob\",\"oldSrc\",\"href\",\"styleSheet\",\"cssText\",\"createTextNode\",\"newObj\",\"DEBUG\",\"newList\",\"mayRemove\",\"textStore\",\"replaceText\",\"index\",\"replacement\",\"filter\",\"Boolean\",\"join\",\"cssNode\",\"childNodes\",\"location\",\"baseUrl\",\"protocol\",\"host\",\"currentDir\",\"pathname\",\"replace\",\"fullMatch\",\"origUrl\",\"newUrl\",\"unquotedOrigUrl\",\"trim\",\"$1\",\"test\",\"Function\",\"self\",\"args\",\"Array\",\"Element\",\"documentElement\",\"prop\",\"DOMTokenList\",\"add\",\"token\",\"contains\",\"className\",\"toString\",\"toggle\",\"HTMLElement\",\"__defineGetter__\",\"classes\",\"split\",\"lastTime\",\"vendors\",\"x\",\"requestAnimationFrame\",\"cancelAnimationFrame\",\"callback\",\"currTime\",\"Date\",\"getTime\",\"timeToCall\",\"Math\",\"max\",\"setTimeout\",\"clearTimeout\",\"Tile\",\"position\",\"y\",\"previousPosition\",\"mergedFrom\",\"savePosition\",\"updatePosition\",\"serialize\",\"Grid\",\"size\",\"previousState\",\"cells\",\"fromState\",\"empty\",\"row\",\"state\",\"tile\",\"randomAvailableCell\",\"availableCells\",\"floor\",\"random\",\"eachCell\",\"cellsAvailable\",\"cellAvailable\",\"cell\",\"cellOccupied\",\"cellContent\",\"withinBounds\",\"insertTile\",\"removeTile\",\"cellState\",\"LocalStorageManager\",\"bestScoreKey\",\"gameStateKey\",\"supported\",\"localStorageSupported\",\"storage\",\"localStorage\",\"fakeStorage\",\"_data\",\"setItem\",\"val\",\"String\",\"getItem\",\"removeItem\",\"clear\",\"error\",\"getBestScore\",\"setBestScore\",\"score\",\"getGameState\",\"stateJSON\",\"parse\",\"setGameState\",\"gameState\",\"clearGameState\",\"GameManager\",\"InputManager\",\"Actuator\",\"StorageManager\",\"inputManager\",\"storageManager\",\"actuator\",\"startTiles\",\"on\",\"move\",\"restart\",\"keepPlaying\",\"setup\",\"continueGame\",\"isGameTerminated\",\"over\",\"won\",\"grid\",\"addStartTiles\",\"actuate\",\"addRandomTile\",\"bestScore\",\"terminated\",\"prepareTiles\",\"moveTile\",\"direction\",\"vector\",\"getVector\",\"traversals\",\"buildTraversals\",\"moved\",\"positions\",\"findFarthestPosition\",\"next\",\"merged\",\"farthest\",\"positionsEqual\",\"movesAvailable\",\"0\",\"1\",\"2\",\"3\",\"pos\",\"reverse\",\"previous\",\"tileMatchesAvailable\",\"other\",\"first\",\"second\",\"KeyboardInputManager\",\"events\",\"navigator\",\"msPointerEnabled\",\"eventTouchstart\",\"eventTouchmove\",\"eventTouchend\",\"listen\",\"event\",\"emit\",\"data\",\"callbacks\",\"touchStartClientX\",\"touchStartClientY\",\"map\",\"38\",\"39\",\"40\",\"37\",\"75\",\"76\",\"74\",\"72\",\"87\",\"68\",\"83\",\"65\",\"addEventListener\",\"modifiers\",\"altKey\",\"ctrlKey\",\"metaKey\",\"shiftKey\",\"mapped\",\"which\",\"preventDefault\",\"bindButtonPress\",\"gameContainer\",\"getElementsByClassName\",\"touches\",\"targetTouches\",\"pageX\",\"pageY\",\"clientX\",\"clientY\",\"touchEndClientX\",\"touchEndClientY\",\"changedTouches\",\"dx\",\"absDx\",\"abs\",\"dy\",\"absDy\",\"selector\",\"button\",\"HTMLActuator\",\"tileContainer\",\"scoreContainer\",\"bestContainer\",\"messageContainer\",\"metadata\",\"clearContainer\",\"column\",\"addTile\",\"updateScore\",\"updateBestScore\",\"message\",\"clearMessage\",\"container\",\"wrapper\",\"inner\",\"positionClass\",\"applyClasses\",\"classList\",\"textContent\",\"element\",\"normalizePosition\",\"difference\",\"addition\",\"getElementsByTagName\"],\"mappings\":\"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\"}","code":"!function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=88)}({26:function(t,e,n){var i=n(27);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,o);i.locals&&(t.exports=i.locals)},27:function(t,e,n){},28:function(t,e,n){var i=n(29);\"string\"==typeof i&&(i=[[t.i,i,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,o);i.locals&&(t.exports=i.locals)},29:function(t,e,n){},3:function(t,e,i){var n,o,r,l={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),s=(r={},function(t,e){if(\"function\"==typeof t)return t();if(void 0===r[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}r[t]=n}return r[t]}),u=null,h=0,a=[],p=i(5);function f(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=l[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(w(i.parts[r],e))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(w(i.parts[r],e));l[i.id]={id:i.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function v(t,e){var n=s(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var i=a[a.length-1];if(\"top\"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),a.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var o=s(t.insertAt.before,n);n.insertBefore(e,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=a.indexOf(t);0<=e&&a.splice(e,1)}function y(t){var e=document.createElement(\"style\");if(void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return g(e,t.attrs),v(t,e),e}function g(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function w(e,t){var n,i,o,r,s,a;if(t.transform&&e.css){if(!(r=\"function\"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var l=h++;n=u||(u=y(t)),i=S.bind(null,n,l,!1),o=S.bind(null,n,l,!0)}else o=e.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(s=t,a=document.createElement(\"link\"),void 0===s.attrs.type&&(s.attrs.type=\"text/css\"),s.attrs.rel=\"stylesheet\",g(a,s.attrs),v(s,a),i=function(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=p(i));o&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\");var s=new Blob([i],{type:\"text/css\"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n=a,t),function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute(\"media\",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),function(){m(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}t.exports=function(t,s){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(s=s||{}).attrs=\"object\"==typeof s.attrs?s.attrs:{},s.singleton||\"boolean\"==typeof s.singleton||(s.singleton=c()),s.insertInto||(s.insertInto=\"head\"),s.insertAt||(s.insertAt=\"bottom\");var a=d(t,s);return f(a,s),function(t){for(var e=[],n=0;n<a.length;n++){var i=a[n];(o=l[i.id]).refs--,e.push(o)}t&&f(d(t,s),s);for(n=0;n<e.length;n++){var o;if(0===(o=e[n]).refs){for(var r=0;r<o.parts.length;r++)o.parts[r]();delete l[o.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join(\"\\n\")});function S(t,e,n,i){var o=n?\"\":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},5:function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var o=e.protocol+\"//\"+e.host,r=o+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var n,i=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(n=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?o+i:r+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(n)+\")\")})}},88:function(t,e,n){\"use strict\";n.r(e);n(26),n(28),Function.prototype.bind=Function.prototype.bind||function(e){var n=this;return function(t){t instanceof Array||(t=[t]),n.apply(e,t)}},function(){if(!(void 0===window.Element||\"classList\"in document.documentElement)){var t,e,n,i=Array.prototype,o=i.push,r=i.splice,s=i.join;a.prototype={add:function(t){this.contains(t)||(o.call(this,t),this.el.className=this.toString())},contains:function(t){return-1!=this.el.className.indexOf(t)},item:function(t){return this[t]||null},remove:function(t){if(this.contains(t)){for(var e=0;e<this.length&&this[e]!=t;e++);r.call(this,e,1),this.el.className=this.toString()}},toString:function(){return s.call(this,\" \")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},window.DOMTokenList=a,t=HTMLElement.prototype,e=\"classList\",n=function(){return new a(this)},Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}function a(t){for(var e=(this.el=t).className.replace(/^\\s+|\\s+$/g,\"\").split(/\\s+/),n=0;n<e.length;n++)o.call(this,e[n])}}(),function(){for(var o=0,t=[\"webkit\",\"moz\"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[t[e]+\"CancelAnimationFrame\"]||window[t[e]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-o)),i=window.setTimeout(function(){t(e+n)},n);return o=e+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();function i(t,e){this.x=t.x,this.y=t.y,this.value=e||2,this.previousPosition=null,this.mergedFrom=null}i.prototype.savePosition=function(){this.previousPosition={x:this.x,y:this.y}},i.prototype.updatePosition=function(t){this.x=t.x,this.y=t.y},i.prototype.serialize=function(){return{position:{x:this.x,y:this.y},value:this.value}};var u=i;function o(t,e){this.size=t,this.cells=e?this.fromState(e):this.empty()}o.prototype.empty=function(){for(var t=[],e=0;e<this.size;e++)for(var n=t[e]=[],i=0;i<this.size;i++)n.push(null);return t},o.prototype.fromState=function(t){for(var e=[],n=0;n<this.size;n++)for(var i=e[n]=[],o=0;o<this.size;o++){var r=t[n][o];i.push(r?new u(r.position,r.value):null)}return e},o.prototype.randomAvailableCell=function(){var t=this.availableCells();if(t.length)return t[Math.floor(Math.random()*t.length)]},o.prototype.availableCells=function(){var i=[];return this.eachCell(function(t,e,n){n||i.push({x:t,y:e})}),i},o.prototype.eachCell=function(t){for(var e=0;e<this.size;e++)for(var n=0;n<this.size;n++)t(e,n,this.cells[e][n])},o.prototype.cellsAvailable=function(){return!!this.availableCells().length},o.prototype.cellAvailable=function(t){return!this.cellOccupied(t)},o.prototype.cellOccupied=function(t){return!!this.cellContent(t)},o.prototype.cellContent=function(t){return this.withinBounds(t)?this.cells[t.x][t.y]:null},o.prototype.insertTile=function(t){this.cells[t.x][t.y]=t},o.prototype.removeTile=function(t){this.cells[t.x][t.y]=null},o.prototype.withinBounds=function(t){return 0<=t.x&&t.x<this.size&&0<=t.y&&t.y<this.size},o.prototype.serialize=function(){for(var t=[],e=0;e<this.size;e++)for(var n=t[e]=[],i=0;i<this.size;i++)n.push(this.cells[e][i]?this.cells[e][i].serialize():null);return{size:this.size,cells:t}};var r=o;function s(){this.bestScoreKey=\"bestScore\",this.gameStateKey=\"gameState\";var t=this.localStorageSupported();this.storage=t?window.localStorage:window.fakeStorage}window.fakeStorage={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:void 0},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}},s.prototype.localStorageSupported=function(){try{var t=window.localStorage;return t.setItem(\"test\",\"1\"),t.removeItem(\"test\"),!0}catch(t){return!1}},s.prototype.getBestScore=function(){return this.storage.getItem(this.bestScoreKey)||0},s.prototype.setBestScore=function(t){this.storage.setItem(this.bestScoreKey,t)},s.prototype.getGameState=function(){var t=this.storage.getItem(this.gameStateKey);return t?JSON.parse(t):null},s.prototype.setGameState=function(t){this.storage.setItem(this.gameStateKey,JSON.stringify(t))},s.prototype.clearGameState=function(){this.storage.removeItem(this.gameStateKey)};var a=s;function l(t,e,n,i){this.size=t,this.inputManager=new e,this.storageManager=new i,this.actuator=new n,this.startTiles=2,this.inputManager.on(\"move\",this.move.bind(this)),this.inputManager.on(\"restart\",this.restart.bind(this)),this.inputManager.on(\"keepPlaying\",this.keepPlaying.bind(this)),this.setup()}l.prototype.restart=function(){this.storageManager.clearGameState(),this.actuator.continueGame(),this.setup()},l.prototype.keepPlaying=function(){this.keepPlaying=!0,this.actuator.continueGame()},l.prototype.isGameTerminated=function(){return this.over||this.won&&!this.keepPlaying},l.prototype.setup=function(){var t=this.storageManager.getGameState();t?(this.grid=new r(t.grid.size,t.grid.cells),this.score=t.score,this.over=t.over,this.won=t.won,this.keepPlaying=t.keepPlaying):(this.grid=new r(this.size),this.score=0,this.over=!1,this.won=!1,this.keepPlaying=!1,this.addStartTiles()),this.actuate()},l.prototype.addStartTiles=function(){for(var t=0;t<this.startTiles;t++)this.addRandomTile()},l.prototype.addRandomTile=function(){if(this.grid.cellsAvailable()){var t=Math.random()<.9?2:4,e=new u(this.grid.randomAvailableCell(),t);this.grid.insertTile(e)}},l.prototype.actuate=function(){this.storageManager.getBestScore()<this.score&&this.storageManager.setBestScore(this.score),this.over?this.storageManager.clearGameState():this.storageManager.setGameState(this.serialize()),this.actuator.actuate(this.grid,{score:this.score,over:this.over,won:this.won,bestScore:this.storageManager.getBestScore(),terminated:this.isGameTerminated()})},l.prototype.serialize=function(){return{grid:this.grid.serialize(),score:this.score,over:this.over,won:this.won,keepPlaying:this.keepPlaying}},l.prototype.prepareTiles=function(){this.grid.eachCell(function(t,e,n){n&&(n.mergedFrom=null,n.savePosition())})},l.prototype.moveTile=function(t,e){this.grid.cells[t.x][t.y]=null,(this.grid.cells[e.x][e.y]=t).updatePosition(e)},l.prototype.move=function(t){var r=this;if(!this.isGameTerminated()){var s,a,l=this.getVector(t),e=this.buildTraversals(l),c=!1;this.prepareTiles(),e.x.forEach(function(o){e.y.forEach(function(t){if(s={x:o,y:t},a=r.grid.cellContent(s)){var e=r.findFarthestPosition(s,l),n=r.grid.cellContent(e.next);if(n&&n.value===a.value&&!n.mergedFrom){var i=new u(e.next,2*a.value);i.mergedFrom=[a,n],r.grid.insertTile(i),r.grid.removeTile(a),a.updatePosition(e.next),r.score+=i.value,2048===i.value&&(r.won=!0)}else r.moveTile(a,e.farthest);r.positionsEqual(s,a)||(c=!0)}})}),c&&(this.addRandomTile(),this.movesAvailable()||(this.over=!0),this.actuate())}},l.prototype.getVector=function(t){return{0:{x:0,y:-1},1:{x:1,y:0},2:{x:0,y:1},3:{x:-1,y:0}}[t]},l.prototype.buildTraversals=function(t){for(var e={x:[],y:[]},n=0;n<this.size;n++)e.x.push(n),e.y.push(n);return 1===t.x&&(e.x=e.x.reverse()),1===t.y&&(e.y=e.y.reverse()),e},l.prototype.findFarthestPosition=function(t,e){for(var n;t={x:(n=t).x+e.x,y:n.y+e.y},this.grid.withinBounds(t)&&this.grid.cellAvailable(t););return{farthest:n,next:t}},l.prototype.movesAvailable=function(){return this.grid.cellsAvailable()||this.tileMatchesAvailable()},l.prototype.tileMatchesAvailable=function(){for(var t,e=0;e<this.size;e++)for(var n=0;n<this.size;n++)if(t=this.grid.cellContent({x:e,y:n}))for(var i=0;i<4;i++){var o=this.getVector(i),r={x:e+o.x,y:n+o.y},s=this.grid.cellContent(r);if(s&&s.value===t.value)return!0}return!1},l.prototype.positionsEqual=function(t,e){return t.x===e.x&&t.y===e.y};var c=l;function h(){this.events={},window.navigator.msPointerEnabled?(this.eventTouchstart=\"MSPointerDown\",this.eventTouchmove=\"MSPointerMove\",this.eventTouchend=\"MSPointerUp\"):(this.eventTouchstart=\"touchstart\",this.eventTouchmove=\"touchmove\",this.eventTouchend=\"touchend\"),this.listen()}h.prototype.on=function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},h.prototype.emit=function(t,e){var n=this.events[t];n&&n.forEach(function(t){t(e)})},h.prototype.listen=function(){var a,l,c=this,i={38:0,39:1,40:2,37:3,75:0,76:1,74:2,72:3,87:0,68:1,83:2,65:3};document.addEventListener(\"keydown\",function(t){var e=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey,n=i[t.which];e||void 0!==n&&(t.preventDefault(),c.emit(\"move\",n)),e||82!==t.which||c.restart.call(c,t)}),this.bindButtonPress(\".retry-button\",this.restart),this.bindButtonPress(\".restart-button\",this.restart),this.bindButtonPress(\".keep-playing-button\",this.keepPlaying);var t=document.getElementsByClassName(\"game-container\")[0];t.addEventListener(this.eventTouchstart,function(t){!window.navigator.msPointerEnabled&&1<t.touches.length||1<t.targetTouches.length||(l=window.navigator.msPointerEnabled?(a=t.pageX,t.pageY):(a=t.touches[0].clientX,t.touches[0].clientY),t.preventDefault())}),t.addEventListener(this.eventTouchmove,function(t){t.preventDefault()}),t.addEventListener(this.eventTouchend,function(t){if(!(!window.navigator.msPointerEnabled&&0<t.touches.length||0<t.targetTouches.length)){var e,n;n=window.navigator.msPointerEnabled?(e=t.pageX,t.pageY):(e=t.changedTouches[0].clientX,t.changedTouches[0].clientY);var i=e-a,o=Math.abs(i),r=n-l,s=Math.abs(r);10<Math.max(o,s)&&c.emit(\"move\",s<o?0<i?1:3:0<r?2:0)}})},h.prototype.restart=function(t){t.preventDefault(),this.emit(\"restart\")},h.prototype.keepPlaying=function(t){t.preventDefault(),this.emit(\"keepPlaying\")},h.prototype.bindButtonPress=function(t,e){var n=document.querySelector(t);n.addEventListener(\"click\",e.bind(this)),n.addEventListener(this.eventTouchend,e.bind(this))};var p=h;function f(){this.tileContainer=document.querySelector(\".tile-container\"),this.scoreContainer=document.querySelector(\".score-container\"),this.bestContainer=document.querySelector(\".best-container\"),this.messageContainer=document.querySelector(\".game-message\"),this.score=0}f.prototype.actuate=function(t,e){var n=this;window.requestAnimationFrame(function(){n.clearContainer(n.tileContainer),t.cells.forEach(function(t){t.forEach(function(t){t&&n.addTile(t)})}),n.updateScore(e.score),n.updateBestScore(e.bestScore),e.terminated&&(e.over?n.message(!1):e.won&&n.message(!0))})},f.prototype.continueGame=function(){this.clearMessage()},f.prototype.clearContainer=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},f.prototype.addTile=function(t){var e=this,n=document.createElement(\"div\"),i=document.createElement(\"div\"),o=t.previousPosition||{x:t.x,y:t.y},r=this.positionClass(o),s=[\"tile\",\"tile-\"+t.value,r];2048<t.value&&s.push(\"tile-super\"),this.applyClasses(n,s),i.classList.add(\"tile-inner\"),i.textContent=t.value,t.previousPosition?window.requestAnimationFrame(function(){s[2]=e.positionClass({x:t.x,y:t.y}),e.applyClasses(n,s)}):t.mergedFrom?(s.push(\"tile-merged\"),this.applyClasses(n,s),t.mergedFrom.forEach(function(t){e.addTile(t)})):(s.push(\"tile-new\"),this.applyClasses(n,s)),n.appendChild(i),this.tileContainer.appendChild(n)},f.prototype.applyClasses=function(t,e){t.setAttribute(\"class\",e.join(\" \"))},f.prototype.normalizePosition=function(t){return{x:t.x+1,y:t.y+1}},f.prototype.positionClass=function(t){return\"tile-position-\"+(t=this.normalizePosition(t)).x+\"-\"+t.y},f.prototype.updateScore=function(t){this.clearContainer(this.scoreContainer);var e=t-this.score;if(this.score=t,this.scoreContainer.textContent=this.score,0<e){var n=document.createElement(\"div\");n.classList.add(\"score-addition\"),n.textContent=\"+\"+e,this.scoreContainer.appendChild(n)}},f.prototype.updateBestScore=function(t){this.bestContainer.textContent=t},f.prototype.message=function(t){var e=t?\"game-won\":\"game-over\",n=t?\"You win!\":\"Game over!\";this.messageContainer.classList.add(e),this.messageContainer.getElementsByTagName(\"p\")[0].textContent=n},f.prototype.clearMessage=function(){this.messageContainer.classList.remove(\"game-won\"),this.messageContainer.classList.remove(\"game-over\")};var d=f;window.requestAnimationFrame(function(){new c(4,p,d,a)})}});","extractedComments":[]}