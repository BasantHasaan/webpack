!function(i){var s={};function n(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=i,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=42)}({1:function(t,e,s){var i,n,r,h={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=i.apply(this,arguments)),n}),o=(r={},function(t,e){if("function"==typeof t)return t();if(void 0===r[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}r[t]=i}return r[t]}),c=null,f=0,a=[],d=s(2);function u(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=h[s.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](s.parts[r]);for(;r<s.parts.length;r++)n.parts.push(g(s.parts[r],e))}else{var o=[];for(r=0;r<s.parts.length;r++)o.push(g(s.parts[r],e));h[s.id]={id:s.id,refs:1,parts:o}}}}function p(t,e){for(var i=[],s={},n=0;n<t.length;n++){var r=t[n],o=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};s[o]?s[o].parts.push(a):i.push(s[o]={id:o,parts:[a]})}return i}function v(t,e){var i=o(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=a[a.length-1];if("top"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),a.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=o(t.insertAt.before,i);i.insertBefore(e,n)}}function y(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=a.indexOf(t);0<=e&&a.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return s.nc}();i&&(t.attrs.nonce=i)}return w(e,t.attrs),v(t,e),e}function w(e,i){Object.keys(i).forEach(function(t){e.setAttribute(t,i[t])})}function g(e,t){var i,s,n,r,o,a;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var h=f++;i=c||(c=m(t)),s=k.bind(null,i,h,!1),n=k.bind(null,i,h,!0)}else n=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=t,a=document.createElement("link"),void 0===o.attrs.type&&(o.attrs.type="text/css"),o.attrs.rel="stylesheet",w(a,o.attrs),v(o,a),s=function(t,e,i){var s=i.css,n=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(s=d(s));n&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([s],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,i=a,t),function(){y(i),i.href&&URL.revokeObjectURL(i.href)}):(i=m(t),s=function(t,e){var i=e.css,s=e.media;s&&t.setAttribute("media",s);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),function(){y(i)});return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}t.exports=function(t,o){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(o=o||{}).attrs="object"==typeof o.attrs?o.attrs:{},o.singleton||"boolean"==typeof o.singleton||(o.singleton=l()),o.insertInto||(o.insertInto="head"),o.insertAt||(o.insertAt="bottom");var a=p(t,o);return u(a,o),function(t){for(var e=[],i=0;i<a.length;i++){var s=a[i];(n=h[s.id]).refs--,e.push(n)}t&&u(p(t,o),o);for(i=0;i<e.length;i++){var n;if(0===(n=e[i]).refs){for(var r=0;r<n.parts.length;r++)n.parts[r]();delete h[n.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function k(t,e,i,s){var n=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=x(e,n);else{var r=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}},2:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:r+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},42:function(t,e,i){"use strict";i.r(e);i(8);!function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),s=Math.max(0,16-(i-r)),n=window.setTimeout(function(){t(i+s)},s);return r=i+s,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var h=new function(){var n=[];this.initialize=function(t,e,i){if(this.canvas=document.getElementById(t),this.playerOffset=10,this.canvasMultiplier=1,this.setupMobile(),this.width=this.canvas.width,this.height=this.canvas.height,this.ctx=this.canvas.getContext&&this.canvas.getContext("2d"),!this.ctx)return alert("Please upgrade your browser to play");this.setupInput(),this.loop(),this.mobile&&this.setBoard(4,new l),s.load(e,i)};var e={37:"left",39:"right",32:"fire"};this.keys={},this.setupInput=function(){window.addEventListener("keydown",function(t){e[t.keyCode]&&(h.keys[e[t.keyCode]]=!0,t.preventDefault())},!1),window.addEventListener("keyup",function(t){e[t.keyCode]&&(h.keys[e[t.keyCode]]=!1,t.preventDefault())},!1)};var r=(new Date).getTime();this.loop=function(){var t=(new Date).getTime();requestAnimationFrame(h.loop);var e=(t-r)/1e3;1/30<e&&(e=1/30);for(var i=0,s=n.length;i<s;i++)n[i]&&(n[i].step(e),n[i].draw(h.ctx));r=t},this.setBoard=function(t,e){n[t]=e},this.setupMobile=function(){var t=document.getElementById("container"),e=!!("ontouchstart"in window),i=window.innerWidth,s=window.innerHeight;if(e&&(this.mobile=!0),1280<=screen.width||!e)return!1;s<i&&(alert("Please rotate the device and then click OK"),i=window.innerWidth,s=window.innerHeight),t.style.height=2*s+"px",window.scrollTo(0,1),s=window.innerHeight+2,t.style.height=s+"px",t.style.width=i+"px",t.style.padding=0,s>=1.75*this.canvas.height||i>=1.75*this.canvas.height?(this.canvasMultiplier=2,this.canvas.width=i/2,this.canvas.height=s/2,this.canvas.style.width=i+"px",this.canvas.style.height=s+"px"):(this.canvas.width=i,this.canvas.height=s),this.canvas.style.position="absolute",this.canvas.style.left="0px",this.canvas.style.top="0px"}},s=new function(){return this.map={},this.load=function(t,e){this.map=t,this.image=new Image,this.image.onload=e,this.image.src="../public/images/Alien/sprites.png"},this.draw=function(t,e,i,s,n){var r=this.map[e];n||(n=0),t.drawImage(this.image,r.sx+n*r.w,r.sy,r.w,r.h,Math.floor(i),Math.floor(s),r.w,r.h)},this},n=function(s,n,e){var i=!1;this.step=function(t){h.keys.fire||(i=!0),i&&h.keys.fire&&e&&e()},this.draw=function(t){t.fillStyle="#FFFFFF",t.font="bold 40px bangers";var e=t.measureText(s);t.fillText(s,h.width/2-e.width/2,h.height/2),t.font="bold 20px bangers";var i=t.measureText(n);t.fillText(n,h.width/2-i.width/2,h.height/2+40)}},r=function(){var i=this;this.objects=[],this.cnt={},this.add=function(t){return(t.board=this).objects.push(t),this.cnt[t.type]=(this.cnt[t.type]||0)+1,t},this.remove=function(t){return-1==this.removed.indexOf(t)&&(this.removed.push(t),!0)},this.resetRemoved=function(){this.removed=[]},this.finalizeRemoved=function(){for(var t=0,e=this.removed.length;t<e;t++){var i=this.objects.indexOf(this.removed[t]);-1!=i&&(this.cnt[this.removed[t].type]--,this.objects.splice(i,1))}},this.iterate=function(t){for(var e=Array.prototype.slice.call(arguments,1),i=0,s=this.objects.length;i<s;i++){var n=this.objects[i];n[t].apply(n,e)}},this.detect=function(t){for(var e=0,i=this.objects.length;e<i;e++)if(t.call(this.objects[e]))return this.objects[e];return!1},this.step=function(t){this.resetRemoved(),this.iterate("step",t),this.finalizeRemoved()},this.draw=function(t){this.iterate("draw",t)},this.overlap=function(t,e){return!(t.y+t.h-1<e.y||t.y>e.y+e.h-1||t.x+t.w-1<e.x||t.x>e.x+e.w-1)},this.collide=function(t,e){return this.detect(function(){if(t!=this)return!!((!e||this.type&e)&&i.overlap(t,this))&&this})}},o=function(){};o.prototype.setup=function(t,e){this.sprite=t,this.merge(e),this.frame=this.frame||0,this.w=s.map[t].w,this.h=s.map[t].h},o.prototype.merge=function(t){if(t)for(var e in t)this[e]=t[e]},o.prototype.draw=function(t){s.draw(t,this.sprite,this.x,this.y,this.frame)},o.prototype.hit=function(t){this.board.remove(this)};var a=function(t,e){this.levelData=[];for(var i=0;i<t.length;i++)this.levelData.push(Object.create(t[i]));this.t=0,this.callback=e};a.prototype.step=function(t){var e=0,i=[],s=null;for(this.t+=1e3*t;(s=this.levelData[e])&&s[0]<this.t+2e3;){if(this.t>s[1])i.push(s);else if(s[0]<this.t){var n=d[s[3]],r=s[4];this.board.add(new b(n,r)),s[0]+=s[2]}e++}for(var o=0,a=i.length;o<a;o++){var h=this.levelData.indexOf(i[o]);-1!=h&&this.levelData.splice(h,1)}0===this.levelData.length&&0===this.board.cnt[OBJECT_ENEMY]&&this.callback&&this.callback()},a.prototype.draw=function(t){};var l=function(){var o=h.width/5,a=o-10;this.drawSquare=function(t,e,i,s,n){t.globalAlpha=n?.9:.6,t.fillStyle="#CCC",t.fillRect(e,i,a,a),t.fillStyle="#FFF",t.globalAlpha=1,t.font="bold "+3*o/4+"px arial";var r=t.measureText(s);t.fillText(s,e+a/2-r.width/2,i+3*a/4+5)},this.draw=function(t){t.save();var e=h.height-o;this.drawSquare(t,10,e,"◀",h.keys.left),this.drawSquare(t,o+10,e,"▶",h.keys.right),this.drawSquare(t,4*o,e,"A",h.keys.fire),t.restore()},this.step=function(t){},this.trackTouch=function(t){var e;t.preventDefault(),h.keys.left=!1,h.keys.right=!1;for(var i=0;i<t.targetTouches.length;i++)(e=t.targetTouches[i].pageX/h.canvasMultiplier-h.canvas.offsetLeft)<o&&(h.keys.left=!0),o<e&&e<2*o&&(h.keys.right=!0);if("touchstart"==t.type||"touchend"==t.type)for(i=0;i<t.changedTouches.length;i++)e=t.changedTouches[i].pageX/h.canvasMultiplier-h.canvas.offsetLeft,4*o<e&&(h.keys.fire="touchstart"==t.type)},h.canvas.addEventListener("touchstart",this.trackTouch,!0),h.canvas.addEventListener("touchmove",this.trackTouch,!0),h.canvas.addEventListener("touchend",this.trackTouch,!0),h.canvas.addEventListener("dblclick",function(t){t.preventDefault()},!0),h.canvas.addEventListener("click",function(t){t.preventDefault()},!0),h.playerOffset=o+20},c=function(){h.points=0;this.draw=function(t){t.save(),t.font="bold 18px arial",t.fillStyle="#FFFFFF";for(var e=""+h.points,i=8-e.length,s="";0<i--;)s+="0";t.fillText(s+e,10,20),t.restore()},this.step=function(t){}},f={ship:{sx:0,sy:0,w:37,h:42,frames:1},missile:{sx:0,sy:30,w:2,h:10,frames:1},enemy_purple:{sx:37,sy:0,w:42,h:43,frames:1},enemy_bee:{sx:79,sy:0,w:37,h:43,frames:1},enemy_ship:{sx:116,sy:0,w:42,h:43,frames:1},enemy_circle:{sx:158,sy:0,w:32,h:33,frames:1},explosion:{sx:0,sy:64,w:64,h:64,frames:12},enemy_missile:{sx:9,sy:42,w:3,h:20,frame:1}},d={straight:{x:0,y:-50,sprite:"enemy_ship",health:10,E:100},ltr:{x:0,y:-100,sprite:"enemy_purple",health:10,B:75,C:1,E:100,missiles:2},circle:{x:250,y:-50,sprite:"enemy_circle",health:10,A:0,B:-100,C:1,E:20,F:100,G:1,H:Math.PI/2},wiggle:{x:100,y:-50,sprite:"enemy_bee",health:20,B:50,C:4,E:100,firePercentage:.001,missiles:2},step:{x:0,y:-50,sprite:"enemy_circle",health:10,B:150,C:1.2,E:75}},u=function(){navigator.userAgent.toLowerCase().match(/android/)?h.setBoard(0,new m(50,.6,100,!0)):(h.setBoard(0,new m(20,.4,100,!0)),h.setBoard(1,new m(50,.6,100)),h.setBoard(2,new m(100,1,50))),h.setBoard(3,new n("Alien Invasion","Press fire to start playing",v))},p=[[0,4e3,500,"step"],[6e3,13e3,800,"ltr"],[1e4,16e3,400,"circle"],[17800,2e4,500,"straight",{x:50}],[18200,2e4,500,"straight",{x:90}],[18200,2e4,500,"straight",{x:10}],[22e3,25e3,400,"wiggle",{x:150}],[22e3,25e3,400,"wiggle",{x:100}]],v=function(){var t=new r;t.add(new w),t.add(new a(p,y)),h.setBoard(3,t),h.setBoard(5,new c(0))},y=function(){h.setBoard(3,new n("You win!","Press fire to play again",v))},m=function(e,t,i,s){var n=document.createElement("canvas");n.width=h.width,n.height=h.height;var r=n.getContext("2d"),o=0;s&&(r.fillStyle="#000",r.fillRect(0,0,n.width,n.height)),r.fillStyle="#FFF",r.globalAlpha=t;for(var a=0;a<i;a++)r.fillRect(Math.floor(Math.random()*n.width),Math.floor(Math.random()*n.height),2,2);this.draw=function(t){var e=Math.floor(o),i=n.height-e;0<e&&t.drawImage(n,0,i,n.width,e,0,0,n.width,e),0<i&&t.drawImage(n,0,0,n.width,i,0,e,n.width,i)},this.step=function(t){o+=t*e,o%=n.height}},w=function(){this.setup("ship",{vx:0,reloadTime:.25,maxVel:200}),this.reload=this.reloadTime,this.x=h.width/2-this.w/2,this.y=h.height-h.playerOffset-this.h,this.step=function(t){h.keys.left?this.vx=-this.maxVel:h.keys.right?this.vx=this.maxVel:this.vx=0,this.x+=this.vx*t,this.x<0?this.x=0:this.x>h.width-this.w&&(this.x=h.width-this.w),this.reload-=t,h.keys.fire&&this.reload<0&&(h.keys.fire=!1,this.reload=this.reloadTime,this.board.add(new g(this.x,this.y+this.h/2)),this.board.add(new g(this.x+this.w,this.y+this.h/2)))}};w.prototype=new o,w.prototype.type=1,w.prototype.hit=function(t){this.board.remove(this)&&h.setBoard(3,new n("You lose!","Press fire to play again",v))};var g=function(t,e){this.setup("missile",{vy:-700,damage:10}),this.x=t-this.w/2,this.y=e-this.h};g.prototype=new o,g.prototype.type=2,g.prototype.step=function(t){this.y+=this.vy*t;var e=this.board.collide(this,4);e?(e.hit(this.damage),this.board.remove(this)):this.y<-this.h&&this.board.remove(this)};var b=function(t,e){this.merge(this.baseParameters),this.setup(t.sprite,t),this.merge(e)};b.prototype=new o,b.prototype.type=4,b.prototype.baseParameters={A:0,B:0,C:0,D:0,E:0,F:0,G:0,H:0,t:0,reloadTime:.75,reload:0},b.prototype.step=function(t){this.t+=t,this.vx=this.A+this.B*Math.sin(this.C*this.t+this.D),this.vy=this.E+this.F*Math.sin(this.G*this.t+this.H),this.x+=this.vx*t,this.y+=this.vy*t;var e=this.board.collide(this,1);e&&(e.hit(this.damage),this.board.remove(this)),Math.random()<.01&&this.reload<=0&&(this.reload=this.reloadTime,2==this.missiles?(this.board.add(new x(this.x+this.w-2,this.y+this.h)),this.board.add(new x(this.x+2,this.y+this.h))):this.board.add(new x(this.x+this.w/2,this.y+this.h))),this.reload-=t,(this.y>h.height||this.x<-this.w||this.x>h.width)&&this.board.remove(this)},b.prototype.hit=function(t){this.health-=t,this.health<=0&&this.board.remove(this)&&(h.points+=this.points||100,this.board.add(new k(this.x+this.w/2,this.y+this.h/2)))};var x=function(t,e){this.setup("enemy_missile",{vy:200,damage:10}),this.x=t-this.w/2,this.y=e};x.prototype=new o,x.prototype.type=8,x.prototype.step=function(t){this.y+=this.vy*t;var e=this.board.collide(this,1);e?(e.hit(this.damage),this.board.remove(this)):this.y>h.height&&this.board.remove(this)};var k=function(t,e){this.setup("explosion",{frame:0}),this.x=t-this.w/2,this.y=e-this.h/2};k.prototype=new o,k.prototype.step=function(t){this.frame++,12<=this.frame&&this.board.remove(this)},window.addEventListener("load",function(){h.initialize("game",f,u)})},8:function(t,e,i){var s=i(9);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(1)(s,n);s.locals&&(t.exports=s.locals)},9:function(t,e,i){}});
//# sourceMappingURL=alienInvasion.js.map