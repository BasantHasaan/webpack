{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/2048-master/main.css","webpack:///./src/2048-master/js/bind_polyfill.js","webpack:///./src/2048-master/js/classlist_polyfill.js","webpack:///./src/2048-master/js/animframe_polyfill.js","webpack:///./src/2048-master/js/tile.js","webpack:///./src/2048-master/js/grid.js","webpack:///./src/2048-master/js/local_storage_manager.js","webpack:///./src/2048-master/js/game_manager.js","webpack:///./src/2048-master/js/keyboard_input_manager.js","webpack:///./src/2048-master/js/html_actuator.js","webpack:///./src/2048-master/js/application.js","webpack:///./src/2048-master/2048.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","installedModules","installedCssChunks","0","__webpack_require__","exports","module","l","e","promises","2","Promise","resolve","reject","href","fullhref","p","existingLinkTags","document","getElementsByTagName","dataHref","tag","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","appendChild","then","installedChunkData","promise","onScriptComplete","head","script","charset","timeout","nc","setAttribute","jsonpScriptSrc","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","s","stylesInDom","isOldIE","fn","memo","apply","this","arguments","memoize","atob","getElement","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","item","domStyle","id","refs","j","parts","addStyle","listToStyles","list","newStyles","base","part","css","media","sourceMap","insertStyleElement","style","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","attrs","nonce","getNonce","addAttrs","el","keys","forEach","obj","update","remove","result","transform","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","link","createLinkElement","autoFixUrls","convertToAbsoluteUrls","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","replaceText","textStore","index","replacement","filter","Boolean","join","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","content","hmr","locals","Function","self","args","Array","Element","documentElement","DOMTokenList","add","token","contains","className","toString","toggle","prop","__defineGetter__","defineElementGetter","HTMLElement","classes","split","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","Tile","position","y","previousPosition","mergedFrom","savePosition","updatePosition","serialize","Grid","size","previousState","cells","fromState","empty","row","state","tile","randomAvailableCell","availableCells","floor","random","eachCell","cellsAvailable","cellAvailable","cell","cellOccupied","cellContent","withinBounds","insertTile","removeTile","cellState","LocalStorageManager","bestScoreKey","gameStateKey","supported","localStorageSupported","storage","localStorage","fakeStorage","_data","setItem","val","String","getItem","removeItem","clear","getBestScore","setBestScore","score","getGameState","stateJSON","parse","setGameState","gameState","clearGameState","GameManager","InputManager","Actuator","StorageManager","inputManager","storageManager","actuator","startTiles","on","move","restart","keepPlaying","setup","continueGame","isGameTerminated","over","won","grid","addStartTiles","actuate","addRandomTile","bestScore","terminated","prepareTiles","moveTile","direction","vector","getVector","traversals","buildTraversals","moved","positions","findFarthestPosition","next","merged","farthest","positionsEqual","movesAvailable","1","3","pos","reverse","previous","tileMatchesAvailable","other","first","second","KeyboardInputManager","events","navigator","msPointerEnabled","eventTouchstart","eventTouchmove","eventTouchend","listen","emit","callbacks","touchStartClientX","touchStartClientY","map","38","39","40","37","75","76","74","72","87","68","83","65","addEventListener","modifiers","altKey","ctrlKey","metaKey","shiftKey","mapped","which","preventDefault","bindButtonPress","gameContainer","getElementsByClassName","touches","targetTouches","pageX","pageY","clientX","clientY","touchEndClientX","touchEndClientY","changedTouches","dx","absDx","abs","dy","absDy","selector","button","HTMLActuator","tileContainer","scoreContainer","bestContainer","messageContainer","metadata","clearContainer","column","addTile","updateScore","updateBestScore","message","clearMessage","container","wrapper","inner","positionClass","applyClasses","classList","textContent","element","normalizePosition","difference","addition","innerWidth"],"mappings":"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","file":"cards.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t0: 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"2\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"\" + chunkId + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.request = request;\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nvar content = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/media-query-plugin/src/loader.js!../../node_modules/sass-loader/lib/loader.js!./main.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/media-query-plugin/src/loader.js!../../node_modules/sass-loader/lib/loader.js!./main.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js!../../node_modules/media-query-plugin/src/loader.js!../../node_modules/sass-loader/lib/loader.js!./main.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","export const Poly = Function.prototype.bind = Function.prototype.bind || function (target) {\n  var self = this;\n  return function (args) {\n    if (!(args instanceof Array)) {\n      args = [args];\n    }\n    self.apply(target, args);\n  };\n};\n","export const Classlist = (function () {\n  if (typeof window.Element === \"undefined\" ||\n      \"classList\" in document.documentElement) {\n    return;\n  }\n\n  var prototype = Array.prototype,\n      push = prototype.push,\n      splice = prototype.splice,\n      join = prototype.join;\n\n  function DOMTokenList(el) {\n    this.el = el;\n    // The className needs to be trimmed and split on whitespace\n    // to retrieve a list of classes.\n    var classes = el.className.replace(/^\\s+|\\s+$/g, '').split(/\\s+/);\n    for (var i = 0; i < classes.length; i++) {\n      push.call(this, classes[i]);\n    }\n  }\n\n  DOMTokenList.prototype = {\n    add: function (token) {\n      if (this.contains(token)) return;\n      push.call(this, token);\n      this.el.className = this.toString();\n    },\n    contains: function (token) {\n      return this.el.className.indexOf(token) != -1;\n    },\n    item: function (index) {\n      return this[index] || null;\n    },\n    remove: function (token) {\n      if (!this.contains(token)) return;\n      for (var i = 0; i < this.length; i++) {\n        if (this[i] == token) break;\n      }\n      splice.call(this, i, 1);\n      this.el.className = this.toString();\n    },\n    toString: function () {\n      return join.call(this, ' ');\n    },\n    toggle: function (token) {\n      if (!this.contains(token)) {\n        this.add(token);\n      } else {\n        this.remove(token);\n      }\n\n      return this.contains(token);\n    }\n  };\n\n  window.DOMTokenList = DOMTokenList;\n\n  function defineElementGetter(obj, prop, getter) {\n    if (Object.defineProperty) {\n      Object.defineProperty(obj, prop, {\n        get: getter\n      });\n    } else {\n      obj.__defineGetter__(prop, getter);\n    }\n  }\n\n  defineElementGetter(HTMLElement.prototype, 'classList', function () {\n    return new DOMTokenList(this);\n  });\n})();\n","export const Calc=(function () {\n  var lastTime = 0;\n  var vendors = ['webkit', 'moz'];\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||\n      window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function (callback) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(function () {\n        callback(currTime + timeToCall);\n      },\n      timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function (id) {\n      clearTimeout(id);\n    };\n  }\n}());\n","function Tile(position, value) {\n  this.x                = position.x;\n  this.y                = position.y;\n  this.value            = value || 2;\n\n  this.previousPosition = null;\n  this.mergedFrom       = null; // Tracks tiles that merged together\n}\n\nTile.prototype.savePosition = function () {\n  this.previousPosition = { x: this.x, y: this.y };\n};\n\nTile.prototype.updatePosition = function (position) {\n  this.x = position.x;\n  this.y = position.y;\n};\n\nTile.prototype.serialize = function () {\n  return {\n    position: {\n      x: this.x,\n      y: this.y\n    },\n    value: this.value\n  };\n};\nexport default Tile;","import Tile from './tile';\nfunction Grid(size, previousState) {\n  this.size = size;\n  this.cells = previousState ? this.fromState(previousState) : this.empty();\n}\n\n// Build a grid of the specified size\nGrid.prototype.empty = function () {\n  var cells = [];\n\n  for (var x = 0; x < this.size; x++) {\n    var row = cells[x] = [];\n\n    for (var y = 0; y < this.size; y++) {\n      row.push(null);\n    }\n  }\n\n  return cells;\n};\n\nGrid.prototype.fromState = function (state) {\n  var cells = [];\n\n  for (var x = 0; x < this.size; x++) {\n    var row = cells[x] = [];\n\n    for (var y = 0; y < this.size; y++) {\n      var tile = state[x][y];\n      row.push(tile ? new Tile(tile.position, tile.value) : null);\n    }\n  }\n\n  return cells;\n};\n\n// Find the first available random position\nGrid.prototype.randomAvailableCell = function () {\n  var cells = this.availableCells();\n\n  if (cells.length) {\n    return cells[Math.floor(Math.random() * cells.length)];\n  }\n};\n\nGrid.prototype.availableCells = function () {\n  var cells = [];\n\n  this.eachCell(function (x, y, tile) {\n    if (!tile) {\n      cells.push({ x: x, y: y });\n    }\n  });\n\n  return cells;\n};\n\n// Call callback for every cell\nGrid.prototype.eachCell = function (callback) {\n  for (var x = 0; x < this.size; x++) {\n    for (var y = 0; y < this.size; y++) {\n      callback(x, y, this.cells[x][y]);\n    }\n  }\n};\n\n// Check if there are any cells available\nGrid.prototype.cellsAvailable = function () {\n  return !!this.availableCells().length;\n};\n\n// Check if the specified cell is taken\nGrid.prototype.cellAvailable = function (cell) {\n  return !this.cellOccupied(cell);\n};\n\nGrid.prototype.cellOccupied = function (cell) {\n  return !!this.cellContent(cell);\n};\n\nGrid.prototype.cellContent = function (cell) {\n  if (this.withinBounds(cell)) {\n    return this.cells[cell.x][cell.y];\n  } else {\n    return null;\n  }\n};\n\n// Inserts a tile at its position\nGrid.prototype.insertTile = function (tile) {\n  this.cells[tile.x][tile.y] = tile;\n};\n\nGrid.prototype.removeTile = function (tile) {\n  this.cells[tile.x][tile.y] = null;\n};\n\nGrid.prototype.withinBounds = function (position) {\n  return position.x >= 0 && position.x < this.size &&\n         position.y >= 0 && position.y < this.size;\n};\n\nGrid.prototype.serialize = function () {\n  var cellState = [];\n\n  for (var x = 0; x < this.size; x++) {\n    var row = cellState[x] = [];\n\n    for (var y = 0; y < this.size; y++) {\n      row.push(this.cells[x][y] ? this.cells[x][y].serialize() : null);\n    }\n  }\n\n  return {\n    size: this.size,\n    cells: cellState\n  };\n};\nexport default Grid;","window.fakeStorage = {\n  _data: {},\n\n  setItem: function (id, val) {\n    return this._data[id] = String(val);\n  },\n\n  getItem: function (id) {\n    return this._data.hasOwnProperty(id) ? this._data[id] : undefined;\n  },\n\n  removeItem: function (id) {\n    return delete this._data[id];\n  },\n\n  clear: function () {\n    return this._data = {};\n  }\n};\n\nfunction LocalStorageManager() {\n  this.bestScoreKey     = \"bestScore\";\n  this.gameStateKey     = \"gameState\";\n\n  var supported = this.localStorageSupported();\n  this.storage = supported ? window.localStorage : window.fakeStorage;\n}\n\nLocalStorageManager.prototype.localStorageSupported = function () {\n  var testKey = \"test\";\n\n  try {\n    var storage = window.localStorage;\n    storage.setItem(testKey, \"1\");\n    storage.removeItem(testKey);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\n// Best score getters/setters\nLocalStorageManager.prototype.getBestScore = function () {\n  return this.storage.getItem(this.bestScoreKey) || 0;\n};\n\nLocalStorageManager.prototype.setBestScore = function (score) {\n  this.storage.setItem(this.bestScoreKey, score);\n};\n\n// Game state getters/setters and clearing\nLocalStorageManager.prototype.getGameState = function () {\n  var stateJSON = this.storage.getItem(this.gameStateKey);\n  return stateJSON ? JSON.parse(stateJSON) : null;\n};\n\nLocalStorageManager.prototype.setGameState = function (gameState) {\n  this.storage.setItem(this.gameStateKey, JSON.stringify(gameState));\n};\n\nLocalStorageManager.prototype.clearGameState = function () {\n  this.storage.removeItem(this.gameStateKey);\n};\nexport default LocalStorageManager;","import Grid from './grid';\nimport Tile from './tile';\nfunction GameManager(size, InputManager, Actuator, StorageManager) {\n  this.size           = size; // Size of the grid\n  this.inputManager   = new InputManager;\n  this.storageManager = new StorageManager;\n  this.actuator       = new Actuator;\n\n  this.startTiles     = 2;\n\n  this.inputManager.on(\"move\", this.move.bind(this));\n  this.inputManager.on(\"restart\", this.restart.bind(this));\n  this.inputManager.on(\"keepPlaying\", this.keepPlaying.bind(this));\n\n  this.setup();\n}\n\n// Restart the game\nGameManager.prototype.restart = function () {\n  this.storageManager.clearGameState();\n  this.actuator.continueGame(); // Clear the game won/lost message\n  this.setup();\n};\n\n// Keep playing after winning (allows going over 2048)\nGameManager.prototype.keepPlaying = function () {\n  this.keepPlaying = true;\n  this.actuator.continueGame(); // Clear the game won/lost message\n};\n\n// Return true if the game is lost, or has won and the user hasn't kept playing\nGameManager.prototype.isGameTerminated = function () {\n  return this.over || (this.won && !this.keepPlaying);\n};\n\n// Set up the game\nGameManager.prototype.setup = function () {\n  var previousState = this.storageManager.getGameState();\n\n  // Reload the game from a previous game if present\n  if (previousState) {\n    this.grid        = new Grid(previousState.grid.size,\n                                previousState.grid.cells); // Reload grid\n    this.score       = previousState.score;\n    this.over        = previousState.over;\n    this.won         = previousState.won;\n    this.keepPlaying = previousState.keepPlaying;\n  } else {\n    this.grid        = new Grid(this.size);\n    this.score       = 0;\n    this.over        = false;\n    this.won         = false;\n    this.keepPlaying = false;\n\n    // Add the initial tiles\n    this.addStartTiles();\n  }\n\n  // Update the actuator\n  this.actuate();\n};\n\n// Set up the initial tiles to start the game with\nGameManager.prototype.addStartTiles = function () {\n  for (var i = 0; i < this.startTiles; i++) {\n    this.addRandomTile();\n  }\n};\n\n// Adds a tile in a random position\nGameManager.prototype.addRandomTile = function () {\n  if (this.grid.cellsAvailable()) {\n    var value = Math.random() < 0.9 ? 2 : 4;\n    var tile = new Tile(this.grid.randomAvailableCell(), value);\n\n    this.grid.insertTile(tile);\n  }\n};\n\n// Sends the updated grid to the actuator\nGameManager.prototype.actuate = function () {\n  if (this.storageManager.getBestScore() < this.score) {\n    this.storageManager.setBestScore(this.score);\n  }\n\n  // Clear the state when the game is over (game over only, not win)\n  if (this.over) {\n    this.storageManager.clearGameState();\n  } else {\n    this.storageManager.setGameState(this.serialize());\n  }\n\n  this.actuator.actuate(this.grid, {\n    score:      this.score,\n    over:       this.over,\n    won:        this.won,\n    bestScore:  this.storageManager.getBestScore(),\n    terminated: this.isGameTerminated()\n  });\n\n};\n\n// Represent the current game as an object\nGameManager.prototype.serialize = function () {\n  return {\n    grid:        this.grid.serialize(),\n    score:       this.score,\n    over:        this.over,\n    won:         this.won,\n    keepPlaying: this.keepPlaying\n  };\n};\n\n// Save all tile positions and remove merger info\nGameManager.prototype.prepareTiles = function () {\n  this.grid.eachCell(function (x, y, tile) {\n    if (tile) {\n      tile.mergedFrom = null;\n      tile.savePosition();\n    }\n  });\n};\n\n// Move a tile and its representation\nGameManager.prototype.moveTile = function (tile, cell) {\n  this.grid.cells[tile.x][tile.y] = null;\n  this.grid.cells[cell.x][cell.y] = tile;\n  tile.updatePosition(cell);\n};\n\n// Move tiles on the grid in the specified direction\nGameManager.prototype.move = function (direction) {\n  // 0: up, 1: right, 2: down, 3: left\n  var self = this;\n\n  if (this.isGameTerminated()) return; // Don't do anything if the game's over\n\n  var cell, tile;\n\n  var vector     = this.getVector(direction);\n  var traversals = this.buildTraversals(vector);\n  var moved      = false;\n\n  // Save the current tile positions and remove merger information\n  this.prepareTiles();\n\n  // Traverse the grid in the right direction and move tiles\n  traversals.x.forEach(function (x) {\n    traversals.y.forEach(function (y) {\n      cell = { x: x, y: y };\n      tile = self.grid.cellContent(cell);\n\n      if (tile) {\n        var positions = self.findFarthestPosition(cell, vector);\n        var next      = self.grid.cellContent(positions.next);\n\n        // Only one merger per row traversal?\n        if (next && next.value === tile.value && !next.mergedFrom) {\n          var merged = new Tile(positions.next, tile.value * 2);\n          merged.mergedFrom = [tile, next];\n\n          self.grid.insertTile(merged);\n          self.grid.removeTile(tile);\n\n          // Converge the two tiles' positions\n          tile.updatePosition(positions.next);\n\n          // Update the score\n          self.score += merged.value;\n\n          // The mighty 2048 tile\n          if (merged.value === 2048) self.won = true;\n        } else {\n          self.moveTile(tile, positions.farthest);\n        }\n\n        if (!self.positionsEqual(cell, tile)) {\n          moved = true; // The tile moved from its original cell!\n        }\n      }\n    });\n  });\n\n  if (moved) {\n    this.addRandomTile();\n\n    if (!this.movesAvailable()) {\n      this.over = true; // Game over!\n    }\n\n    this.actuate();\n  }\n};\n\n// Get the vector representing the chosen direction\nGameManager.prototype.getVector = function (direction) {\n  // Vectors representing tile movement\n  var map = {\n    0: { x: 0,  y: -1 }, // Up\n    1: { x: 1,  y: 0 },  // Right\n    2: { x: 0,  y: 1 },  // Down\n    3: { x: -1, y: 0 }   // Left\n  };\n\n  return map[direction];\n};\n\n// Build a list of positions to traverse in the right order\nGameManager.prototype.buildTraversals = function (vector) {\n  var traversals = { x: [], y: [] };\n\n  for (var pos = 0; pos < this.size; pos++) {\n    traversals.x.push(pos);\n    traversals.y.push(pos);\n  }\n\n  // Always traverse from the farthest cell in the chosen direction\n  if (vector.x === 1) traversals.x = traversals.x.reverse();\n  if (vector.y === 1) traversals.y = traversals.y.reverse();\n\n  return traversals;\n};\n\nGameManager.prototype.findFarthestPosition = function (cell, vector) {\n  var previous;\n\n  // Progress towards the vector direction until an obstacle is found\n  do {\n    previous = cell;\n    cell     = { x: previous.x + vector.x, y: previous.y + vector.y };\n  } while (this.grid.withinBounds(cell) &&\n           this.grid.cellAvailable(cell));\n\n  return {\n    farthest: previous,\n    next: cell // Used to check if a merge is required\n  };\n};\n\nGameManager.prototype.movesAvailable = function () {\n  return this.grid.cellsAvailable() || this.tileMatchesAvailable();\n};\n\n// Check for available matches between tiles (more expensive check)\nGameManager.prototype.tileMatchesAvailable = function () {\n  var self = this;\n\n  var tile;\n\n  for (var x = 0; x < this.size; x++) {\n    for (var y = 0; y < this.size; y++) {\n      tile = this.grid.cellContent({ x: x, y: y });\n\n      if (tile) {\n        for (var direction = 0; direction < 4; direction++) {\n          var vector = self.getVector(direction);\n          var cell   = { x: x + vector.x, y: y + vector.y };\n\n          var other  = self.grid.cellContent(cell);\n\n          if (other && other.value === tile.value) {\n            return true; // These two tiles can be merged\n          }\n        }\n      }\n    }\n  }\n\n  return false;\n};\n\nGameManager.prototype.positionsEqual = function (first, second) {\n  return first.x === second.x && first.y === second.y;\n};\nexport default GameManager;","function KeyboardInputManager() {\n  this.events = {};\n\n  if (window.navigator.msPointerEnabled) {\n    //Internet Explorer 10 style\n    this.eventTouchstart    = \"MSPointerDown\";\n    this.eventTouchmove     = \"MSPointerMove\";\n    this.eventTouchend      = \"MSPointerUp\";\n  } else {\n    this.eventTouchstart    = \"touchstart\";\n    this.eventTouchmove     = \"touchmove\";\n    this.eventTouchend      = \"touchend\";\n  }\n\n  this.listen();\n}\n\nKeyboardInputManager.prototype.on = function (event, callback) {\n  if (!this.events[event]) {\n    this.events[event] = [];\n  }\n  this.events[event].push(callback);\n};\n\nKeyboardInputManager.prototype.emit = function (event, data) {\n  var callbacks = this.events[event];\n  if (callbacks) {\n    callbacks.forEach(function (callback) {\n      callback(data);\n    });\n  }\n};\n\nKeyboardInputManager.prototype.listen = function () {\n  var self = this;\n\n  var map = {\n    38: 0, // Up\n    39: 1, // Right\n    40: 2, // Down\n    37: 3, // Left\n    75: 0, // Vim up\n    76: 1, // Vim right\n    74: 2, // Vim down\n    72: 3, // Vim left\n    87: 0, // W\n    68: 1, // D\n    83: 2, // S\n    65: 3  // A\n  };\n\n  // Respond to direction keys\n  document.addEventListener(\"keydown\", function (event) {\n    var modifiers = event.altKey || event.ctrlKey || event.metaKey ||\n                    event.shiftKey;\n    var mapped    = map[event.which];\n\n    if (!modifiers) {\n      if (mapped !== undefined) {\n        event.preventDefault();\n        self.emit(\"move\", mapped);\n      }\n    }\n\n    // R key restarts the game\n    if (!modifiers && event.which === 82) {\n      self.restart.call(self, event);\n    }\n  });\n\n  // Respond to button presses\n  this.bindButtonPress(\".retry-button\", this.restart);\n  this.bindButtonPress(\".restart-button\", this.restart);\n  this.bindButtonPress(\".keep-playing-button\", this.keepPlaying);\n\n  // Respond to swipe events\n  var touchStartClientX, touchStartClientY;\n  var gameContainer = document.getElementsByClassName(\"game-container\")[0];\n\n  gameContainer.addEventListener(this.eventTouchstart, function (event) {\n    if ((!window.navigator.msPointerEnabled && event.touches.length > 1) ||\n        event.targetTouches.length > 1) {\n      return; // Ignore if touching with more than 1 finger\n    }\n\n    if (window.navigator.msPointerEnabled) {\n      touchStartClientX = event.pageX;\n      touchStartClientY = event.pageY;\n    } else {\n      touchStartClientX = event.touches[0].clientX;\n      touchStartClientY = event.touches[0].clientY;\n    }\n\n    event.preventDefault();\n  });\n\n  gameContainer.addEventListener(this.eventTouchmove, function (event) {\n    event.preventDefault();\n  });\n\n  gameContainer.addEventListener(this.eventTouchend, function (event) {\n    if ((!window.navigator.msPointerEnabled && event.touches.length > 0) ||\n        event.targetTouches.length > 0) {\n      return; // Ignore if still touching with one or more fingers\n    }\n\n    var touchEndClientX, touchEndClientY;\n\n    if (window.navigator.msPointerEnabled) {\n      touchEndClientX = event.pageX;\n      touchEndClientY = event.pageY;\n    } else {\n      touchEndClientX = event.changedTouches[0].clientX;\n      touchEndClientY = event.changedTouches[0].clientY;\n    }\n\n    var dx = touchEndClientX - touchStartClientX;\n    var absDx = Math.abs(dx);\n\n    var dy = touchEndClientY - touchStartClientY;\n    var absDy = Math.abs(dy);\n\n    if (Math.max(absDx, absDy) > 10) {\n      // (right : left) : (down : up)\n      self.emit(\"move\", absDx > absDy ? (dx > 0 ? 1 : 3) : (dy > 0 ? 2 : 0));\n    }\n  });\n};\n\nKeyboardInputManager.prototype.restart = function (event) {\n  event.preventDefault();\n  this.emit(\"restart\");\n};\n\nKeyboardInputManager.prototype.keepPlaying = function (event) {\n  event.preventDefault();\n  this.emit(\"keepPlaying\");\n};\n\nKeyboardInputManager.prototype.bindButtonPress = function (selector, fn) {\n  var button = document.querySelector(selector);\n  button.addEventListener(\"click\", fn.bind(this));\n  button.addEventListener(this.eventTouchend, fn.bind(this));\n};\nexport default KeyboardInputManager;","function HTMLActuator() {\n  this.tileContainer    = document.querySelector(\".tile-container\");\n  this.scoreContainer   = document.querySelector(\".score-container\");\n  this.bestContainer    = document.querySelector(\".best-container\");\n  this.messageContainer = document.querySelector(\".game-message\");\n\n  this.score = 0;\n}\n\nHTMLActuator.prototype.actuate = function (grid, metadata) {\n  var self = this;\n\n  window.requestAnimationFrame(function () {\n    self.clearContainer(self.tileContainer);\n\n    grid.cells.forEach(function (column) {\n      column.forEach(function (cell) {\n        if (cell) {\n          self.addTile(cell);\n        }\n      });\n    });\n\n    self.updateScore(metadata.score);\n    self.updateBestScore(metadata.bestScore);\n\n    if (metadata.terminated) {\n      if (metadata.over) {\n        self.message(false); // You lose\n      } else if (metadata.won) {\n        self.message(true); // You win!\n      }\n    }\n\n  });\n};\n\n// Continues the game (both restart and keep playing)\nHTMLActuator.prototype.continueGame = function () {\n  this.clearMessage();\n};\n\nHTMLActuator.prototype.clearContainer = function (container) {\n  while (container.firstChild) {\n    container.removeChild(container.firstChild);\n  }\n};\n\nHTMLActuator.prototype.addTile = function (tile) {\n  var self = this;\n\n  var wrapper   = document.createElement(\"div\");\n  var inner     = document.createElement(\"div\");\n  var position  = tile.previousPosition || { x: tile.x, y: tile.y };\n  var positionClass = this.positionClass(position);\n\n  // We can't use classlist because it somehow glitches when replacing classes\n  var classes = [\"tile\", \"tile-\" + tile.value, positionClass];\n\n  if (tile.value > 2048) classes.push(\"tile-super\");\n\n  this.applyClasses(wrapper, classes);\n\n  inner.classList.add(\"tile-inner\");\n  inner.textContent = tile.value;\n\n  if (tile.previousPosition) {\n    // Make sure that the tile gets rendered in the previous position first\n    window.requestAnimationFrame(function () {\n      classes[2] = self.positionClass({ x: tile.x, y: tile.y });\n      self.applyClasses(wrapper, classes); // Update the position\n    });\n  } else if (tile.mergedFrom) {\n    classes.push(\"tile-merged\");\n    this.applyClasses(wrapper, classes);\n\n    // Render the tiles that merged\n    tile.mergedFrom.forEach(function (merged) {\n      self.addTile(merged);\n    });\n  } else {\n    classes.push(\"tile-new\");\n    this.applyClasses(wrapper, classes);\n  }\n\n  // Add the inner part of the tile to the wrapper\n  wrapper.appendChild(inner);\n\n  // Put the tile on the board\n  this.tileContainer.appendChild(wrapper);\n};\n\nHTMLActuator.prototype.applyClasses = function (element, classes) {\n  element.setAttribute(\"class\", classes.join(\" \"));\n};\n\nHTMLActuator.prototype.normalizePosition = function (position) {\n  return { x: position.x + 1, y: position.y + 1 };\n};\n\nHTMLActuator.prototype.positionClass = function (position) {\n  position = this.normalizePosition(position);\n  return \"tile-position-\" + position.x + \"-\" + position.y;\n};\n\nHTMLActuator.prototype.updateScore = function (score) {\n  this.clearContainer(this.scoreContainer);\n\n  var difference = score - this.score;\n  this.score = score;\n\n  this.scoreContainer.textContent = this.score;\n\n  if (difference > 0) {\n    var addition = document.createElement(\"div\");\n    addition.classList.add(\"score-addition\");\n    addition.textContent = \"+\" + difference;\n\n    this.scoreContainer.appendChild(addition);\n  }\n};\n\nHTMLActuator.prototype.updateBestScore = function (bestScore) {\n  this.bestContainer.textContent = bestScore;\n};\n\nHTMLActuator.prototype.message = function (won) {\n  var type    = won ? \"game-won\" : \"game-over\";\n  var message = won ? \"You win!\" : \"Game over!\";\n\n  this.messageContainer.classList.add(type);\n  this.messageContainer.getElementsByTagName(\"p\")[0].textContent = message;\n};\n\nHTMLActuator.prototype.clearMessage = function () {\n  // IE only takes one value to remove at a time.\n  this.messageContainer.classList.remove(\"game-won\");\n  this.messageContainer.classList.remove(\"game-over\");\n};\nexport default HTMLActuator;","// Wait till the browser is ready to render the game (avoids glitches)\nimport  GameManager from './game_manager';\nimport  KeyboardInputManager  from './keyboard_input_manager';\nimport HTMLActuator from './html_actuator';\nimport LocalStorageManager from './local_storage_manager';\nexport const Show = window.requestAnimationFrame(function () {\n  new GameManager(4, KeyboardInputManager, HTMLActuator, LocalStorageManager);\n});\n","\nimport './main.css';\nif (window.innerWidth <=520) {\n    import('./style/exam-mobile.css');\n}\n\nimport './js/bind_polyfill';\nimport './js/classlist_polyfill';\nimport './js/animframe_polyfill';\n//import './js/keyboard_input_manager';\n\n//import './js/html_actuator';\n\nimport './js/grid';\n\n//import './js/tile';\n\nimport './js/local_storage_manager';\n\n//import './js/game_manager';\n\nimport './js/application';"],"sourceRoot":""}